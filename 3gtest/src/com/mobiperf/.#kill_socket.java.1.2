package eecs.umich.threegtest;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import android.content.Context;


class kill_socket extends Thread {
	private Context context;
	public kill_socket(Context context){
		this.context = context;
	}
    public void run() {
    	/*
        this.setPriority( MAX_PRIORITY );
        
        try {
            DatagramSocket killSocket = new DatagramSocket();
            Utilities.write_to_file("killsocket.txt", Context.MODE_WORLD_READABLE,"" + killSocket.getLocalPort() + "\n", context);
            killSocket.setReuseAddress( true );
            do {
                byte[] recvbuf = new byte[ 1024 ];
                DatagramPacket rpacket = new DatagramPacket( recvbuf, recvbuf.length );
                killSocket.receive( rpacket );
                String reply = new String( rpacket.getData(), rpacket.getData().length );

                if ( reply.charAt( 0 ) == 'k' ) {
                    threegtest.stopFlag = true;
                    killSocket.close();
                    return ;
                }
                else if ( reply.charAt( 0 ) == 'i' ) {
                    Utilities.write_to_file("uiportfile.txt", Context.MODE_WORLD_READABLE,"" + rpacket.getPort() + "\n", context );
                    Utilities.sendudpmessage( "uiportfile.txt", "yes", context );
                }
            }
            while ( true );
        }
        catch ( Exception e ) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
*/
    }
}
